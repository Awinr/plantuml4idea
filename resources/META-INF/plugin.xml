<idea-plugin version="2">
    <id>PlantUML integration</id>
    <name>PlantUML Integration</name>
    <version>5.21.2</version>
    <vendor url="https://github.com/esteinberg/plantuml4idea/">Eugene Steinberg, Vojtech Krasa</vendor>
    <!-- IJ 12+ -->
    <idea-version since-build="222.4167.9"/>

    <description><![CDATA[PlantUML diagramming tool integration. Now better and faster, with code navigation and highlighting.
        <br><br>
        Sponsored by:<br>
<p><a title="Try CodeStream" href="https://sponsorlink.codestream.com/?utm_source=jbmarket&amp;utm_campaign=vojta_plantuml&amp;utm_medium=banner"><img src="https://alt-images.codestream.com/codestream_logo_vojta_plantuml.png"></a><br>
Manage pull requests and conduct code reviews in your IDE with full source-tree context. Comment on any line, not just the diffs. Use jump-to-definition, your favorite keybindings, and code intelligence with more of your workflow.<br>
<a title="Try CodeStream" href="https://sponsorlink.codestream.com/?utm_source=jbmarket&amp;utm_campaign=vojta_plantuml&amp;utm_medium=banner">Learn More</a></p>
      ]]></description>

    <change-notes>
        <![CDATA[
            <p>5.21<p>
            <ul>
                <li>PlantUML library upgrade to v1.2023.00</li>
            </ul>
            <p>5.20<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.13</li>
                <li>IntelliJ 2022.3 compatibility</li>
                <li>Bugfixes</li>
            </ul>
            <p>5.19<p>
            <ul>
                <li>'Cache size' = 0 - disables multipage rendering optimizations</li>
            </ul>
            <p>5.18<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.12</li>
                <li>NPE fix</li>
            </ul>
            <p>5.17<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.7</li>
                <li>Added: skinparam autocompletion</li>
            </ul>
            <p>5.16<p>
            <ul>
                <li>Added option: 'Single page' for remote rendering on kroki.io and other renderers that do not support newpages</li>
            </ul>
            <p>5.15<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.6</li>
                <li>Added newpage support for Remote rendering</li>
                <li>Added navigation from diagram preview and source code to: methods, fields and other identifiers - referenced by suffix, e.g. file.java#methodName, using absolute or relative paths to the plantuml source file or module roots.</li>
            </ul>
            <p>5.14<p>
            <ul>
                <li>Setting for disabling metadata generation</li>
            </ul>
            <p>5.13<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.5</li>
            </ul>
            <p>5.12<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.4</li>
            </ul>
            <p>5.11.1<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.1</li>
                <li>Support for PlantUml code commented using #</li>
                <li>Fixed auto saving</li>
                <li>Default live templates</li>
            </ul>
            <p>5.10.0<p>
            <ul>
                <li>PlantUML library upgrade to v1.2022.0</li>
                <li>Added Live Template context</li>
            </ul>
            <p>5.9.0<p>
            <ul>
                 <li>PlantUML library upgrade to v1.2021.16</li>
                 <li>Minor fixes</li>
            </ul>
            <p>5.8.0<p>
            <ul>
                 <li>PlantUML library upgrade to v1.2021.15</li>
                 <li>Exporting button fix</li>
                 <li>Fixed preprocessor autocomplete, added functions autocomplete</li>
                 <li>Ditaa fix for remote rendering + SVG</li>
                 <li>Browser buttons fix</li>
            </ul>
            <p>5.6.1<p>
            <ul>
                 <li>Small bugfixes</li>
            </ul>
            <p>5.6<p>
            <ul>
                 <li>Disabled OS scaling for export, added option to enable it</li>
                 <li>PlantUML library upgrade to v1.2021.11</li>
            </ul>
            <p>5.5<p>
            <ul>
                 <li>Performance fix</li>
                 <li>Restored page combobox</li>
            </ul>
            <p>5.4<p>
            <ul>
                 <li>PlantUML library upgrade to v1.2021.7</li>
                 <li>IJ 2021.2 compatibility</li>
            </ul>
            <p>5.3<p>
            <ul>
                 <li>PlantUML library upgrade to v1.2021.5</li>
            </ul>
            <p>5.2<p>
            <ul>
              <li>Detection for plugin conflicts - disables SVG preview rendering</li>
            </ul>
            <p>5.1<p>
            <ul>
              <li>TODOs support in comments</li>
            </ul>
            <p>5.0<p>
            <ul>
              <li>Editor preview</li>
              <li>PlantUML library upgrade to v1.2021.4</li>
              <li>Render *.dot files without plantUML meta tags</li>
            </ul>
            <p>4.6<p>
            <ul>
              <li>Added option: Remember last export directory</li>
              <li>PlantUML library upgrade to v1.2021.2</li>
            </ul>
            <p>4.5<p>
            <ul>
              <li>Remote rendering using PlantUML server</li>
              <li>Copy as PlantUML Server link configuration</li>
            </ul>
            <p>4.4<p>
            <ul>
              <li>Fixed source extracting for Markdown</li>
            </ul>
            <p>4.3<p>
            <ul>
              <li>Suppressed `Non-ASCII characters` inspection</li>
              <li>Fixed default export filename</li>
            </ul>
            <p>4.2<p>
            <ul>
              <li>!include navigation, refactoring support</li>
              <li>PlantUML library upgrade to v1.2021.1</li>
              <li>Fixed: background in SVG preview</li>
            </ul>
            <p>4.1<p>
            <ul>
              <li>Added default export file type settings</li>
              <li>Fixed exporting regressions</li>
            </ul>
            <p>4.0</p>
            <ul>
              <li>Switched to a much faster SVG preview</li>
              <li>Other performance optimizations</li>
              <li>Highlighting of the selected text in images - disabled by default</li>
            </ul>
            <p>3.6</p>
            <ul>
              <li>Image text links into the source code - by text matching, repeated clicks cycles occurrences</li>
              <li>Fixed regression - unnecessary image rendering</li>
              <li>Little improved grammar</li>
            </ul>
            <p>3.5</p>
            <ul>
              <li>Added: Grazie grammar check - must be enabled in File | Settings | Editor | Proofreading | Grammar</li>
              <li>Fixed code navigation for non-ascii words</li>
            </ul>
            <p>3.4</p>
            <ul>
              <li>Fixed Spellchecking inspection</li>
              <li>Added: Insert paired (), [] , {}, "" - can be disabled in settings</li>
            </ul>
            <p>3.3</p>
            <ul>
              <li>Find Usages performance optimization</li>
              <li>Small fixes</li>
            </ul>
            <p>3.2</p>
            <ul>
              <li>Added: ctrl+click - Go to Declaration/Usages, Rename...</li>
              <li>Added: Structure view - shows the first occurrence of a word</li>
              <li>Better keyword highlighting + settings to disable it</li>
              <li>Updated file templates</li>
            </ul>
            <p>3.1</p>
            <ul>
              <li>Performance optimization when !includeurl is used</li>
              <li>PlantUML library upgrade to v1.2021.0</li>
              <li>YAML Data Diagram support</li>
              <li>Syntax annotator bugfixes</li>
            </ul>
            <p>3.0</p>
            <ul>
             <li>Option to use an external PlantUML jar</li>
             <li>PlantUML library upgrade to v1.2020.26</li>
             <li>Option to name diagram files based on their title instead of page number (enabled by default)</li>
             <li>Moved settings under "Languages and Frameworks".</li>
            </ul>
       ]]>
    </change-notes>
    <depends>com.intellij.modules.platform</depends>
    <depends optional="true" config-file="images-puml.xml">com.intellij.platform.images</depends>
    <depends optional="true" config-file="grazie-puml.xml">tanvd.grazi</depends>

    <application-components>
        <!-- Add your application components here -->
        <component>
            <implementation-class>org.plantuml.idea.PlantUmlApplicationComponent</implementation-class>
        </component>
    </application-components>

    <project-components>
        <!-- Add your project components here -->
        <component>
            <implementation-class>org.plantuml.idea.PlantUmlProjectComponent</implementation-class>
        </component>
    </project-components>

    <actions>
        <group id="PlantUML.EditorLayout">

            <action class="org.plantuml.idea.preview.editor.editorLayout.EditorOnlyLayoutChangeAction"
                    id="org.plantuml.idea.preview.editor.editorLayout.EditorOnlyLayoutChangeAction"
                    text="Show Editor Only"
                    icon="AllIcons.General.LayoutEditorOnly">
            </action>
            <action class="org.plantuml.idea.preview.editor.editorLayout.EditorAndPreviewLayoutChangeAction"
                    id="org.plantuml.idea.preview.editor.editorLayout.EditorAndPreviewLayoutChangeAction"
                    text="Show Editor and Preview"
                    icon="AllIcons.General.LayoutEditorPreview">
            </action>
            <action class="org.plantuml.idea.preview.editor.editorLayout.HorizontalSplitLayoutChangeAction"
                    id="org.plantuml.idea.preview.editor.editorLayout.HorizontalSplitLayoutChangeAction"
                    text="Show Editor and Preview - Horizontal Split"
                    icon="/images/layoutEditorPreview_horizontal.svg">
            </action>
            <action class="org.plantuml.idea.preview.editor.editorLayout.PreviewOnlyLayoutChangeAction"
                    id="org.plantuml.idea.preview.editor.editorLayout.PreviewOnlyLayoutChangeAction"
                    text="Show Preview Only"
                    icon="AllIcons.General.LayoutPreviewOnly">
            </action>
            <separator/>
        </group>

        <group id="PlantUML.Toolbar" description="PlantUML toolwindow toolbar">
            <action id="PlantUML.Update" description="Update PlantUml Diagrams"
                    class="org.plantuml.idea.action.UpdateDiagramsAction"
                    icon="AllIcons.Javaee.UpdateRunningApplication" text="Update PlantUml Diagrams - changes only">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift F"/>
            </action>
            <action id="PlantUML.Reload" description="Reload PlantUml Diagrams"
                    class="org.plantuml.idea.action.ReloadNowAction"
                    icon="AllIcons.Actions.Refresh" text="Reload PlantUml Diagrams">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift G"/>
            </action>

            <separator/>
            <action id="PlantUML.CopyToClipboard" description="Copy Current Diagram to Clipboard"
                    class="org.plantuml.idea.action.save.CopyDiagramToClipboardAction"
                    icon="AllIcons.Actions.Copy" text="Copy Current Diagram to Clipboard"
            />
            <action id="PlantUML.SaveToFile" description="Save Current Diagram Only"
                    class="org.plantuml.idea.action.save.SaveDiagramToFileAction"
                    icon="/actions/menu-saveall.svg" text="Save Current Diagram Only"/>
            <action id="PlantUML.SaveAllToFile" description="Save All Pages"
                    class="org.plantuml.idea.action.save.SaveAllDiagramToFileAction"
                    icon="AllIcons.ToolbarDecorator.Export" text="Save All Pages"/>
            <separator/>

            <action id="PlantUML.ZoomIn" description="Zoom In" class="org.plantuml.idea.action.ZoomInAction"
                    icon="AllIcons.Graph.ZoomIn" text="Zoom In"/>
            <action id="PlantUML.ZoomOut" description="Zoom In" class="org.plantuml.idea.action.ZoomOutAction"
                    icon="AllIcons.Graph.ZoomOut" text="Zoom Out"/>
            <action id="PlantUML.ZoomActual" description="Actual Zoom" class="org.plantuml.idea.action.ZoomActualAction"
                    icon="AllIcons.Graph.ActualZoom" text="Actual Zoom"/>
            <separator/>

            <action id="PlantUML.PrevPage" description="Prev Page" class="org.plantuml.idea.action.PrevPageAction"
                    icon="AllIcons.Actions.Back" text="Previous Page"/>
            <action id="PlantUML.NextPage" description="Next Page" class="org.plantuml.idea.action.NextPageAction"
                    icon="AllIcons.Actions.Forward" text="Next Page"/>

            <separator/>

            <group id="PlantUML.Settings" icon="AllIcons.General.Settings" popup="true">
                <action id="PlantUML.AutoPoup"
                        class="org.plantuml.idea.action.AutoPopupToggleAction"
                        text="Automatic Code Completion Popup"
                        description="'Settings | Editor | General | Code Completion | Show suggestions as you type' must also be enabled"/>
                <action id="PlantUML.AutoRender"
                        class="org.plantuml.idea.action.AutoRenderToggleAction"
                        text="Automatically Render"/>
                <action id="PlantUML.AutoHideToolWindowToggle"
                        class="org.plantuml.idea.action.AutoHideToolWindowToggleAction"
                        text="Automatically Show/Hide Tool Window"/>
                <action id="PlantUML.DoNotDisplayErrorsToggle"
                        class="org.plantuml.idea.action.DoNotDisplayErrorsToggleAction"
                        text="Do not Display Error Images"
                        description="Click on the status label to display the error, click again to return to the last image."
                />
                <separator/>
                <action id="org.plantuml.idea.action.ImageHighlightToggleAction"
                        class="org.plantuml.idea.action.ImageHighlightToggleAction"
                        text="Highlight Text Occurrences in Images"/>
                />
                <action id="org.plantuml.idea.action.DisplayLinksBorderToggleAction"
                        class="org.plantuml.idea.action.DisplayLinksBorderToggleAction"
                        text="Show Border Around Links"
                />
                <separator/>
                <action id="org.plantuml.idea.action.DisplaySvgToggleAction"
                        class="org.plantuml.idea.action.DisplaySvgToggleAction"
                        text="SVG Preview"
                        description="It should be much faster. Disable for the old PNG one."
                />
                <action id="org.plantuml.idea.action.RemoteRenderingToggleAction"
                        class="org.plantuml.idea.action.RemoteRenderingToggleAction"
                        text="Remote Rendering"
                />
                />
                <separator/>
                <action id="PlantUML.ShowSettings" class="org.plantuml.idea.action.ShowSettingsAction"
                        text="Open Settings"/>

                <!--                <separator/>-->
                <!--                <action id="PlantUML.SaveTestAction" class="org.plantuml.idea.action.test.SaveTestAction"-->
                <!--                        text="SaveTestAction"/>-->
                <!--                <action id="PlantUML.ClearCacheAction" class="org.plantuml.idea.action.test.ClearCacheAction"-->
                <!--                        text="ClearCacheAction"/>-->

            </group>

            <separator/>
            <action id="PlantUML.About" description="About" icon="AllIcons.Actions.Help"
                    class="org.plantuml.idea.action.AboutAction" text="About"/>
        </group>


        <group id="PlantUML.NewPlantUML" text="PlantUML">
            <action id="NewPlantUMLFile" class="org.plantuml.idea.plantuml.CreatePlantUMLFileAction"/>
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFromTemplate"/>
        </group>

    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="PlantUML integration plugin" displayType="BALLOON" isLogByDefault="true"/>

        <intentionAction>
            <className>org.plantuml.idea.intentions.ReverseArrowIntention</className>
            <category>plantuml4idea plugin</category>
        </intentionAction>
        <intentionAction>
            <className>org.plantuml.idea.intentions.AddPartialRenderOptionIntention</className>
            <category>plantuml4idea plugin</category>
        </intentionAction>
        <intentionAction>
            <className>org.plantuml.idea.intentions.AddNoSyntaxCheckOptionIntention</className>
            <category>plantuml4idea plugin</category>
        </intentionAction>

        <toolWindow id="PlantUML" icon="/images/uml.png" anchor="right"
                    factoryClass="org.plantuml.idea.preview.toolwindow.PlantUmlToolWindowFactory"/>
        <fileTypeFactory implementation="org.plantuml.idea.lang.PlantUmlTypeFactory"/>
        <lang.parserDefinition language="PUML"
                               implementationClass="org.plantuml.idea.lang.PlantUmlParserDefinition"/>
        <lang.commenter language="PUML" implementationClass="org.plantuml.idea.lang.PlantUmlCommenter"/>
        <applicationConfigurable instance="org.plantuml.idea.settings.PlantUmlSettingsPage" groupId="language"/>
        <applicationService serviceImplementation="org.plantuml.idea.settings.PlantUmlSettings"/>
        <applicationService serviceImplementation="org.plantuml.idea.rendering.RenderCache"/>
        <applicationService serviceImplementation="org.plantuml.idea.rendering.LazyApplicationPoolExecutor"/>
        <externalAnnotator implementationClass="org.plantuml.idea.lang.annotator.PlantUmlExternalAnnotator"
                           language="PUML"/>
        <applicationService serviceImplementation="org.plantuml.idea.SelectedPagePersistentStateComponent"/>

        <completion.contributor language="PUML"
                                implementationClass="org.plantuml.idea.lang.PlantUmlCompletionContributor"/>
        <typedHandler implementation="org.plantuml.idea.lang.PlantUmlCompletionAutoPopupHandler"
                      id="PlantUmlCompletionAutoPopupHandler"/>

        <lang.elementManipulator forClass="org.plantuml.idea.grammar.psi.PumlItem"
                                 implementationClass="org.plantuml.idea.grammar.navigation.PumlItemReference$PumlElementManipulator"/>
        <lang.elementManipulator forClass="org.plantuml.idea.grammar.psi.impl.PumlIncludeImpl"
                                 implementationClass="org.plantuml.idea.grammar.navigation.PumlIncludeReference$MyAbstractElementManipulator"/>

        <lang.namesValidator language="PUML" implementationClass="org.plantuml.idea.grammar.PumlNamesValidator"/>
        <lang.findUsagesProvider language="PUML"
                                 implementationClass="org.plantuml.idea.grammar.navigation.PumlFindUsagesProvider"/>

        <lang.psiStructureViewFactory language="PUML"
                                      implementationClass="org.plantuml.idea.grammar.structure.PumlStructureViewFactory"/>
        <typedHandler implementation="org.plantuml.idea.lang.PlantUmlTypedHandlerDelegate"/>
        <spellchecker.support language="PUML"
                              implementationClass="org.plantuml.idea.grammar.PumlSpellcheckingStrategy"/>
        <spellchecker.dictionary.runtimeDictionaryProvider
                implementation="org.plantuml.idea.grammar.PumlRuntimeDictionaryProvider"/>
        <lang.refactoringSupport language="PUML"
                                 implementationClass="org.plantuml.idea.grammar.PumlRefactoringSupportProvider"/>
        <lang.inspectionSuppressor language="PUML"
                                   implementationClass="org.plantuml.idea.grammar.PumlInspectionSuppressor"/>

        <todoIndexer filetype="PlantUML file" implementationClass="org.plantuml.idea.grammar.PumlTodoIndexer"/>
        <todoIndexer filetype="PlantUML include file" implementationClass="org.plantuml.idea.grammar.PumlTodoIndexer"/>
        <indexPatternBuilder implementation="org.plantuml.idea.grammar.PumlIndexPatternBuilder"/>

        <fileEditorProvider implementation="org.plantuml.idea.preview.editor.PlantUmlSplitEditorProvider"/>
        <liveTemplateContext implementation="org.plantuml.idea.template.PumlTemplateContextType"/>
        <defaultLiveTemplates file="/liveTemplates/PlantUml.xml"/>
    </extensions>

</idea-plugin>
